<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="robots" content="noindex, nofollow">
    <meta property="og:title" content="【79期】考査対策勉強会 資料フォルダ"> 
    <meta property="og:description" content="LINEグループで配布していた資料を、こちらにまとめました。保存期間が過ぎても閲覧できます。">
    <meta property="og:image" content="favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <p>
        ・ファイル名は正しく拡張子（.pdf, .jpgなど）まで入力してください。<br>
        ・表示名はWebページで表示される名前です。わかりやすい名前で、"２年後期中間"などの考査名や学年などを含めないでください。<br>
        ・<strong>assets フォルダ</strong> にあるリンクを開き、ファイルをアップロードしてください。Githubアプリをインストールしている人は、アーカイブや無効するなどしてから行ってください。<br>
        ・次に、 <strong>JSONファイル書き込み</strong> にあるメタデータやコードを @でや の個人LINEに送信してください。JSONファイルの構造が分かる人は、 <strong>~print_folder/upload/</strong> 直下にある <strong>exam.json</strong> ファイルに書き込んでください。
    </p>

    <form id="upload-form">
        <label>期数:
            <label><input type="number" id="term"></label>
        </label><br>    
    
        <label>学年:
            <select id="grade">
            <option value="1">１年生</option>
            <option value="2">２年生</option>
            <option value="3">３年生</option>
            </select>
        </label><br>

        <label>考査名:
            <select id="exam">
            <option value="1">前期第一中間考査</option>
            <option value="2">前期第二中間考査</option>
            <option value="3">前期期末考査</option>
            <option value="4">後期中間考査</option>
            <option value="5">学年末考査</option>
            </select>
        </label><br>

        <label>教科名: 
            <select id="subject">
                <option value="1">現代文</option>
                <option value="2">現代世界を読む</option>
                <option value="3">古典</option>
                <option value="4">古典探究</option>
                <option value="5">古典講読</option>
                <option value="6">地理総合</option>
                <option value="7">地理探究</option>
                <option value="8">地理講究</option>
                <option value="9">歴史総合</option>
                <option value="10">日本史探究</option>
                <option value="11">日本史特講</option>
                <option value="12">世界史探究</option>
                <option value="13">世界史特講</option>
                <option value="14">公共</option>
                <option value="15">倫政特講</option>
                <option value="16">倫政講究</option>
                <option value="17">理数数学Iα</option>
                <option value="18">理数数学IIα</option>
                <option value="19">理数数学Iβ</option>
                <option value="20">理数数学IIβS</option>
                <option value="21">理数数学IIS</option>
                <option value="22">理数数学IIβL</option>
                <option value="23">理数数学IIL</option>
                <option value="24">数学特講</option>
                <option value="25">数学講究S</option>
                <option value="26">理数化学</option>
                <option value="27">化学特講</option>
                <option value="28">化学講究S</option>
                <option value="29">理数物理</option>
                <option value="30">物理特講</option>
                <option value="31">物理講究S</option>
                <option value="32">理数生物</option>
                <option value="33">生物特講</option>
                <option value="34">生物講究S</option>
                <option value="35">地学特講</option>
                <option value="36">物L化L生L地L</option>
                <option value="37">理科演習L</option>
                <option value="38">総合英語IR</option>
                <option value="39">総合英語IIR</option>
                <option value="40">総合英語IIIR</option>
                <option value="41">英語DI</option>
                <option value="42">英語DII</option>
                <option value="43">総合英語II長文</option>
                <option value="44">総合英語III長文</option>
                <option value="45">英語W</option>
                <option value="46">家庭基礎</option>
                <option value="47">保健</option>
                <option value="48">IBARAMA III</option>
                <option value="49">IBARAMA IV</option>
                <option value="50">その他</option>
            </select>
        </label><br>

        <label>ファイル名:<input type="text" id="file-name"></label><br>
        <label>表示名:<input type="text" id="display-name"></label><br>

    </form>

    <h3>assets フォルダ</h3>
    <div id="suggest-dir" style="margin-top:10px; font-weight:bold; color:#007acc;">← 選択するとここにディレクトリが表示されます</div><br>

    <h3>JSONファイル書き込み</h3>    
    <pre id="path-output" style="background:#000000; padding:16px; border:1px solid #ccc; color: #fff;"></pre>
    <button id="copy-btn" class="copy-button">コピー</button>



    <script src="script.js"></script>
</body>


const examMap = {
  "1": "1-1S-Mid1",   // 前期第一中間考査
  "2": "2-1S-Mid2",   // 前期第二中間考査
  "3": "3-1S-Final",  // 前期期末考査
  "4": "4-2S-Mid",    // 後期中間考査
  "5": "5-2S-Final"   // 学年末考査
};

const subjectsByGrade = {
  "1": [
    { value: "1", text: "現代文" },
    { value: "3", text: "古典" },
    { value: "6", text: "地理総合" },
    { value: "9", text: "歴史総合" },
    { value: "17", text: "理数数学Iα" },
    { value: "19", text: "理数数学Iβ" },
    { value: "26", text: "理数化学" },
    { value: "29", text: "理数物理" },
    { value: "38", text: "総合英語IR" },
    { value: "41", text: "英語DI" },
    { value: "46", text: "家庭基礎" },
    { value: "47", text: "保健" }
  ],

  "2": [
    { value: "1", text: "現代文" },
    { value: "3", text: "古典" },
    { value: "7", text: "地理探究" },
    { value: "10", text: "日本史探究" },
    { value: "12", text: "世界史探究" },
    { value: "14", text: "公共" },
    { value: "18", text: "理数数学IIα" },
    { value: "20", text: "理数数学IIβS" },
    { value: "22", text: "理数数学IIβL" },
    { value: "24", text: "数学特講" },
    { value: "27", text: "化学特講" },
    { value: "30", text: "物理特講" },
    { value: "33", text: "生物特講" },
    { value: "35", text: "地学特講" },
    { value: "39", text: "総合英語IIR" },
    { value: "42", text: "英語DII" },
    { value: "43", text: "総合英語II長文" },
    { value: "47", text: "保健" },
    { value: "48", text: "IBARAMA III" },
    { value: "50", text: "その他" }
  ],

  "3": [
    { value: "1", text: "現代文" },
    { value: "2", text: "現代世界を読む" },
    { value: "4", text: "古典探究" },
    { value: "5", text: "古典講読" },
    { value: "7", text: "地理探究" },
    { value: "8", text: "地理講究" },
    { value: "10", text: "日本史探究" },
    { value: "11", text: "日本史特講" },
    { value: "12", text: "世界史探究" },
    { value: "13", text: "世界史特講" },
    { value: "15", text: "倫政特講" },
    { value: "16", text: "倫政講究" },
    { value: "21", text: "理数数学IIS" },
    { value: "23", text: "理数数学IIL" },
    { value: "24", text: "数学特講" },
    { value: "25", text: "数学講究S" },
    { value: "28", text: "化学講究S" },
    { value: "31", text: "物理講究S" },
    { value: "34", text: "生物講究S" },
    { value: "36", text: "物L化L生L地L" },
    { value: "37", text: "理科演習L" },
    { value: "40", text: "総合英語IIIR" },
    { value: "44", text: "総合英語III長文" },
    { value: "45", text: "英語W" },
    { value: "49", text: "IBARAMA IV" },
    { value: "50", text: "その他" }
  ]
};



const subjectMap = {
  "1":  "01_genbun",          // 現代文
  "2":  "02_genbun-yomu",     // 現代世界を読む
  "3":  "03_koten",           // 古典
  "4":  "04_koten-tankyu",    // 古典探究
  "5":  "05_koten-koudoku",   // 古典講読
  "6":  "06_tiri-sougou",     // 地理総合
  "7":  "07_tiri-tankyu",     // 地理探究
  "8":  "08_tiri-koukyu",     // 地理講究
  "9":  "09_rekishi-sougou",  // 歴史総合
  "10": "10_nihonshi-tankyu", // 日本史探究
  "11": "11_nihonshi-tokkou", // 日本史特講
  "12": "12_sekaishi-tankyu", // 世界史探究
  "13": "13_sekaishi-tokkou", // 世界史特講
  "14": "14_koukyou",         // 公共
  "15": "15_rinsei-tokkou",   // 倫政特講
  "16": "16_rinsei-koukyu",   // 倫政講究
  "17": "17_mathIa",          // 理数数学Iα
  "18": "18_mathIIa",         // 理数数学IIα
  "19": "19_mathIb",          // 理数数学Iβ
  "20": "20_mathIIbS",        // 理数数学IIβS
  "21": "21_mathIIS",         // 理数数学IIS
  "22": "22_mathIIbL",        // 理数数学IIβL
  "23": "23_mathIIL",         // 理数数学IIL
  "24": "24_math-tokkou",     // 数学特講
  "25": "25_math-koukyuS",    // 数学講究S
  "26": "26_kagaku",          // 理数化学
  "27": "27_kagaku-tokkou",   // 化学特講
  "28": "28_kagaku-koukyuS",  // 化学講究S
  "29": "29_buturi",          // 理数物理
  "30": "30_buturi-tokkou",   // 物理特講
  "31": "31_buturi-koukyuS",  // 物理講究S
  "32": "32_seibutu",         // 理数生物
  "33": "33_seibutu-tokkou",  // 生物特講
  "34": "34_seibutu-koukyuS", // 生物講究S
  "35": "35_tigaku-tokkou",   // 地学特講
  "36": "36_scienceL",        // 物L化L生L地L
  "37": "37_scienceL-ensyu",  // 理科演習L
  "38": "38_eigo-IR",         // 総合英語IR
  "39": "39_eigo-IIR",        // 総合英語IIR
  "40": "40_eigo-IIIR",       // 総合英語IIIR
  "41": "41_eigo-DI",         // 英語DI
  "42": "42_eigo-DII",        // 英語DII
  "43": "43_eigo-II-tyobun",  // 総合英語II長文
  "44": "44_eigo-III-tyobun", // 総合英語III長文
  "45": "45_eigo-W",          // 英語W
  "46": "46_kateikiso",       // 家庭基礎
  "47": "47_hoken",           // 保健
  "48": "48_IBA-III",         // IBARAMA III
  "49": "49_IBA-IV",          // IBARAMA IV
  "50": "50_sonota"           // その他
};

function updateSubjects() {
  const grade = document.getElementById('grade').value;
  const subjectSelect = document.getElementById('subject');
  subjectSelect.innerHTML = "";

  subjectsByGrade[grade].forEach(subj => {
    const opt = document.createElement('option');
    opt.value = subj.value;
    opt.textContent = subj.text;
    subjectSelect.appendChild(opt);
  });
}

function updateDir() {
  const term = document.getElementById('term').value;
  const grade = document.getElementById('grade').value;
  const exam = document.getElementById('exam').value;
  const subject = document.getElementById('subject').value;

  const examDir = examMap[exam] || "unknown-exam";
  const subjectDir = subjectMap[subject] || "unknown-subject";


  const path = `https://github.com/1bunkaiyu314/1bunkaiyu314.github.io/tree/main/print_folder/${term}/assets/grade${grade}/${examDir}/${subjectDir}/`;

  document.getElementById('suggest-dir').innerHTML =
    `<a href="${path}" target="_blank">${path}</a>`;
}

function updatePath() {
  const term = document.getElementById('term').value;
  const grade = document.getElementById('grade').value;
  const exam = document.getElementById('exam').value;
  const subject = document.getElementById('subject').value;
  const fileName = document.getElementById('file-name').value;
  const displayName = document.getElementById('display-name').value;

  const examDir = examMap[exam] || "unknown-exam";
  const subjectDir = subjectMap[subject] || "unknown-subject";

  let path = `/${term}/grade${grade}/${examDir}/${subjectDir}/`;
  if (fileName) path += fileName;

  // ← ここで「別の要素」に出力する
  const el = document.getElementById('path-output');  
  el.textContent = displayName ? `${path}` : path;
}

document.getElementById('copy-btn').addEventListener('click', () => {
  const text = document.getElementById('path-output').textContent;
  navigator.clipboard.writeText(text)
});

["term","grade","exam","subject","file-name","display-name"].forEach(id => {
  document.getElementById(id).addEventListener('input', updatePath);
  document.getElementById(id).addEventListener('change', updatePath);
});

document.getElementById('exam').addEventListener('change', updateDir);
document.getElementById('subject').addEventListener('change', updateDir);
document.getElementById('term').addEventListener('change', updateDir);
document.getElementById('file-name').addEventListener('input', updateDir);
document.getElementById('display-name').addEventListener('input', updateDir);

document.addEventListener('DOMContentLoaded', () => {
  // デフォルト値を設定
  document.getElementById('term').value = 79;
  document.getElementById('grade').value = "2";
  document.getElementById('exam').value = "1";
  
  document.getElementById('grade').addEventListener('change', () => {
  updateSubjects();
  updateDir();
});



  // 初期化処理
  updateSubjects();
  updateDir();
});



#path-output {
  background: #f5f5f5;
  padding: 8px 24px;              /* 内側の余白（左右を広めに） */
  margin: 8px 8px;              /* 外側の余白（上下20px、左右40px） */
  border: 1px solid #ccc;
  border-radius: 8px;             /* 角を丸くする */
  font-family: 'Source Code Pro', monospace;
  font-size: 14px;
  white-space: pre-wrap;          /* 長いパスも折り返し可能 */
}

.copy-button {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  border: none;
  border-radius: 6px;
  padding: 6px 12px;
  margin: 8px 8px;              /* 外側の余白（上下20px、左右40px） */

  font-size: 14px;
  cursor: pointer;
}

.copy-button:hover {
  background: #dddddd;
}

